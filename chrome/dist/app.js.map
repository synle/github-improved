{"version":3,"sources":["node_modules/simple-gulp-builder/node_modules/browser-pack/_prelude.js","app.js","src/inject/js/app.js","src/inject/js/util/dataUtil.js","src/inject/js/util/globalUtil.js","src/inject/js/util/sidebarUtil.js","src/inject/js/util/urlUtil.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_interopRequireDefault","obj","__esModule","default","_dataUtil","_dataUtil2","_sidebarUtil","_sidebarUtil2","_globalUtil","_globalUtil2","chrome","extension","sendMessage","response","_init","urlParams","getUrlVars","visibleFlags","getVisibleFlags","$","remove","sideBarContainer","appendTo","text","searchBarContainer","on","onSearchRepo","toggle","searchFile","cmdContainer","onGoToGetSearchUrl","w","onGoToDiffNonWhitespaceUrl","onGoTogetDiffWithWhitespaceUrl","differ","diff","onGoToSplitDiffUrl","onGoToUnifieDiffUrl","onGoToOwnPRUrl","onGoToAssignedPRUrl","onGoToMentioningYouPRUrl","append","dataListSearchLanguages","getSupportedLanguages","map","language","attr","_eventLoopHandler","find","off","readyStateCheckInterval","setInterval","document","readyState","clearInterval","./util/dataUtil","./util/globalUtil","./util/sidebarUtil","2","Object","defineProperty","value","dataUtil","getGitInfo","owner","repo","pathName","location","pathname","urlSplits","split","branch","indexOf","commit","file","slice","join","pull","gitInfo","3","util","getUrlForParam","params","queryString","getSerializedQueryString","hostname","paramKeys","keys","paramKey","paramVal","push","hash","vars","url","href","hashes","4","_urlUtil","_urlUtil2","sideBarTool","getSplitDiffUrl","getUnifiedDiffUrl","getDiffNonWhitespaceUrl","getDiffWithWhitespaceUrl","getSearchUrl","getOwnPRUrl","getAssignedPRUrl","getMentioningPRUrl","formSearch","formSearchData","serializeArray","reduce","res","formData","name","getRepoSearchResultUrl","keyword","type","author","./urlUtil","5","urlUtil","searchIn","q","searchQueryString","./dataUtil","./globalUtil"],"mappings":"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","file":"app.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar _dataUtil = require('./util/dataUtil');\n\nvar _dataUtil2 = _interopRequireDefault(_dataUtil);\n\nvar _sidebarUtil = require('./util/sidebarUtil');\n\nvar _sidebarUtil2 = _interopRequireDefault(_sidebarUtil);\n\nvar _globalUtil = require('./util/globalUtil');\n\nvar _globalUtil2 = _interopRequireDefault(_globalUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nchrome.extension.sendMessage({}, function (response) {\n    var sideBarContainer;\n\n    function _init() {\n        var urlParams = _globalUtil2.default.getUrlVars();\n        var visibleFlags = _dataUtil2.default.getVisibleFlags();\n\n        //empty if needed\n        $('#side-bar-advanced-tool').remove();\n\n        sideBarContainer = $('<div id=\"side-bar-advanced-tool\" />').appendTo('body');\n\n        $('<h3 id=\"side-bar-title\" />').appendTo(sideBarContainer).text('Github Improved Toolbox');\n\n        var searchBarContainer = $('<form id=\"side-bar-form-search\" />').appendTo(sideBarContainer).on('submit', _sidebarUtil2.default.onSearchRepo).toggle(visibleFlags.searchFile);\n\n        var cmdContainer = $('<div id=\"side-bar-cmd-palette\" />').appendTo(sideBarContainer);\n\n        //whitespace diff\n        $('<button id=\"cmd-search-file\" class=\"btn btn-sm\" />').appendTo(cmdContainer).text('Search File').on('click', _sidebarUtil2.default.onGoToGetSearchUrl).toggle(visibleFlags.searchFile);\n\n        $('<button id=\"cmd-diff-whitespace-option\" class=\"btn btn-sm\" />').appendTo(cmdContainer).text(urlParams.w !== '1' ? 'Whitespace Diff' : 'Non-Whitespace Diff').on('click', urlParams.w !== '1' ? _sidebarUtil2.default.onGoToDiffNonWhitespaceUrl : _sidebarUtil2.default.onGoTogetDiffWithWhitespaceUrl).toggle(visibleFlags.differ);\n\n        $('<button id=\"cmd-diff-type\" class=\"btn btn-sm\" />').appendTo(cmdContainer).text(urlParams.diff !== 'split' ? 'Split Diff' : 'Unified Diff').on('click', urlParams.diff !== 'split' ? _sidebarUtil2.default.onGoToSplitDiffUrl : _sidebarUtil2.default.onGoToUnifieDiffUrl).toggle(visibleFlags.differ);\n\n        $('<button class=\"btn btn-sm\" />').appendTo(cmdContainer).text('PR created by you').on('click', _sidebarUtil2.default.onGoToOwnPRUrl);\n\n        $('<button class=\"btn btn-sm\" />').appendTo(cmdContainer).text('PR assigned to you').on('click', _sidebarUtil2.default.onGoToAssignedPRUrl);\n\n        $('<button class=\"btn btn-sm\" />').appendTo(cmdContainer).text('PR mentioning you').on('click', _sidebarUtil2.default.onGoToMentioningYouPRUrl);\n\n        //search\n        $('<input class=\"form-control\" placeholder=\"Keyword\" name=\"keyword\" />').appendTo(searchBarContainer);\n        var searchOption = $('<select class=\"form-control\" name=\"type\" />').appendTo(searchBarContainer).append($('<option value=\"file\" />').text('File Content')).append($('<option value=\"path\" />').text('Path Name')).append($('<option value=\"file,path\" />').text('File and Content'));\n\n        $('<input class=\"form-control\" placeholder=\"Language\" name=\"language\" list=\"search-language\" />').appendTo(searchBarContainer);\n\n        // $('<input class=\"form-control\" placeholder=\"Author\" name=\"author\" />')\n        //     .appendTo(searchBarContainer)\n\n        //auto comeplete\n        var dataListSearchLanguages = $('<datalist id=\"search-language\" />').appendTo(searchBarContainer);\n        _dataUtil2.default.getSupportedLanguages().map(function (language) {\n            $('<option />').attr('value', language).appendTo(dataListSearchLanguages);\n        });\n\n        $('<button class=\"btn btn-sm\" type=\"submit\" />').appendTo(searchBarContainer).text('Search');\n    }\n\n    function _eventLoopHandler() {\n        var urlParams = _globalUtil2.default.getUrlVars();\n        var visibleFlags = _dataUtil2.default.getVisibleFlags();\n\n        sideBarContainer.find('#cmd-search-file').off('click').toggle(visibleFlags.searchFile);\n\n        sideBarContainer.find('#cmd-diff-whitespace-option').off('click').text(urlParams.w !== '1' ? 'Whitespace Diff' : 'Non-Whitespace Diff').on('click', urlParams.w !== '1' ? _sidebarUtil2.default.onGoToDiffNonWhitespaceUrl : _sidebarUtil2.default.onGoTogetDiffWithWhitespaceUrl).toggle(visibleFlags.differ);\n\n        sideBarContainer.find('#cmd-diff-type').off('click').text(urlParams.diff !== 'split' ? 'Split Diff' : 'Unified Diff').on('click', urlParams.diff !== 'split' ? _sidebarUtil2.default.onGoToSplitDiffUrl : _sidebarUtil2.default.onGoToUnifieDiffUrl).toggle(visibleFlags.differ);\n\n        sideBarContainer.find('#side-bar-form-search').toggle(visibleFlags.searchFile);\n    }\n\n    var readyStateCheckInterval = setInterval(function () {\n        if (document.readyState === \"complete\") {\n            clearInterval(readyStateCheckInterval);\n            _init();\n\n            setInterval(_eventLoopHandler, 3000);\n        }\n    }, 10);\n});\n\n},{\"./util/dataUtil\":2,\"./util/globalUtil\":3,\"./util/sidebarUtil\":4}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar dataUtil = {\n    getGitInfo: function getGitInfo() {\n        var pathName = location.pathname;\n        var urlSplits = pathName.split('/');\n        var owner;\n        var repo;\n\n        if (urlSplits[1] !== 'pulls') {\n            owner = urlSplits[1];\n            repo = urlSplits[2];\n        }\n\n        var branch = 'master';\n        if (pathName.indexOf('/blob/') >= 0 || pathName.indexOf('/tree/') >= 0 && urlSplits.length >= 5) {\n            branch = urlSplits[4];\n        }\n\n        var commit;\n        if (pathName.indexOf('/commit/') >= 0 || pathName.indexOf('/commits/') >= 0) {\n            commit = urlSplits[urlSplits.length - 1];\n        }\n\n        var file;\n        if (pathName.indexOf('/blob/') >= 0) {\n            file = urlSplits.slice(5).join('/');\n        }\n\n        var pull;\n        if (pathName.indexOf('/pull/') >= 0 && pathName.indexOf('/files') >= 0) {\n            pull = urlSplits[urlSplits.length - 2];\n        }\n\n        return {\n            owner: owner, repo: repo, branch: branch, commit: commit, file: file, pull: pull\n        };\n    },\n    getVisibleFlags: function getVisibleFlags() {\n        var gitInfo = dataUtil.getGitInfo();\n\n        return {\n            differ: !!(gitInfo.owner && gitInfo.repo) && !!(gitInfo.commit || gitInfo.pull),\n            searchFile: !!(gitInfo.owner && gitInfo.repo)\n        };\n    },\n    getSupportedLanguages: function getSupportedLanguages() {\n        return ['css', 'scss', 'html', 'js', 'json', 'xml', 'java'];\n    }\n};\n\nexports.default = dataUtil;\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nvar util = {\n\tgetUrlForParam: function getUrlForParam(params) {\n\t\tvar queryString = util.getSerializedQueryString();\n\n\t\treturn !!queryString ? 'https://' + location.hostname + location.pathname + '?' + queryString.join('&') : 'https://' + location.hostname + location.pathname;\n\t},\n\tgetSerializedQueryString: function getSerializedQueryString(params) {\n\t\tvar paramKeys = Object.keys(params || {});\n\t\tif (paramKeys.length === 0) {\n\t\t\t//no query string, just return it\n\t\t\treturn '';\n\t\t}\n\n\t\t//prepare the query string\n\t\tvar queryString = [];\n\t\tparamKeys.map(function (paramKey) {\n\t\t\tvar paramVal = params[paramKey];\n\t\t\tqueryString.push(paramKey + '=' + paramVal);\n\t\t});\n\n\t\treturn queryString.join('&');\n\t},\n\tgetUrlVars: function getUrlVars() {\n\t\tvar vars = {},\n\t\t    hash;\n\n\t\tvar url = location.href;\n\t\tif (url.indexOf('?') === -1) {\n\t\t\t//no query string\n\t\t\treturn vars;\n\t\t}\n\t\t//query string\n\t\tvar hashes = url.slice(url.indexOf('?') + 1).split('&');\n\t\tfor (var i = 0; i < hashes.length; i++) {\n\t\t\thash = hashes[i].split('=');\n\t\t\tvars[hash[0]] = hash[1];\n\t\t}\n\t\treturn vars;\n\t}\n};\n\nexports.default = util;\n\n},{}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _urlUtil = require('./urlUtil');\n\nvar _urlUtil2 = _interopRequireDefault(_urlUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar sideBarTool = {\n  onGoToSplitDiffUrl: function onGoToSplitDiffUrl() {\n    location.href = _urlUtil2.default.getSplitDiffUrl();\n  },\n  onGoToUnifieDiffUrl: function onGoToUnifieDiffUrl() {\n    location.href = _urlUtil2.default.getUnifiedDiffUrl();\n  },\n  onGoToDiffNonWhitespaceUrl: function onGoToDiffNonWhitespaceUrl() {\n    location.href = _urlUtil2.default.getDiffNonWhitespaceUrl();\n  },\n  onGoTogetDiffWithWhitespaceUrl: function onGoTogetDiffWithWhitespaceUrl() {\n    location.href = _urlUtil2.default.getDiffWithWhitespaceUrl();\n  },\n  onGoToGetSearchUrl: function onGoToGetSearchUrl() {\n    location.href = _urlUtil2.default.getSearchUrl();\n  },\n  onGoToOwnPRUrl: function onGoToOwnPRUrl() {\n    location.href = _urlUtil2.default.getOwnPRUrl();\n  },\n  onGoToAssignedPRUrl: function onGoToAssignedPRUrl() {\n    location.href = _urlUtil2.default.getAssignedPRUrl();\n  },\n  onGoToMentioningYouPRUrl: function onGoToMentioningYouPRUrl() {\n    location.href = _urlUtil2.default.getMentioningPRUrl();\n  },\n  onSearchRepo: function onSearchRepo() {\n    var formSearch = $('#side-bar-form-search'); //$(this)\n    var formSearchData = formSearch.serializeArray().reduce(function (res, formData) {\n      if (!!formData.value) {\n        res[formData.name] = formData.value;\n      }\n      return res;\n    }, {});\n\n    location.href = _urlUtil2.default.getRepoSearchResultUrl(formSearchData.keyword, formSearchData.language, formSearchData.type, //in:file or in:path or in:file,path\n    formSearchData.author);\n\n    return false;\n  }\n};\n\nexports.default = sideBarTool;\n\n},{\"./urlUtil\":5}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _dataUtil = require('./dataUtil');\n\nvar _dataUtil2 = _interopRequireDefault(_dataUtil);\n\nvar _globalUtil = require('./globalUtil');\n\nvar _globalUtil2 = _interopRequireDefault(_globalUtil);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar urlUtil = {\n    getDiffNonWhitespaceUrl: function getDiffNonWhitespaceUrl() {\n        var urlParams = _globalUtil2.default.getUrlVars();\n        urlParams.w = 1;\n        return _globalUtil2.default.getUrlForParam(urlParams);\n    },\n    getDiffWithWhitespaceUrl: function getDiffWithWhitespaceUrl() {\n        var urlParams = _globalUtil2.default.getUrlVars();\n        urlParams.w = 0;\n        return _globalUtil2.default.getUrlForParam(urlParams);\n    },\n    getSplitDiffUrl: function getSplitDiffUrl() {\n        var urlParams = _globalUtil2.default.getUrlVars();\n        urlParams.diff = 'split';\n        return _globalUtil2.default.getUrlForParam(urlParams);\n    },\n    getUnifiedDiffUrl: function getUnifiedDiffUrl() {\n        var urlParams = _globalUtil2.default.getUrlVars();\n        urlParams.diff = 'unified';\n        return _globalUtil2.default.getUrlForParam(urlParams);\n    },\n    getSearchUrl: function getSearchUrl() {\n        var gitInfo = _dataUtil2.default.getGitInfo();\n        var owner = gitInfo.owner;\n        var repo = gitInfo.repo;\n        var branch = gitInfo.branch;\n\n        return 'https://' + location.hostname + '/' + owner + '/' + repo + '/find/' + branch;\n    },\n    getOwnPRUrl: function getOwnPRUrl() {\n        return 'https://github.com/pulls';\n    },\n    getAssignedPRUrl: function getAssignedPRUrl() {\n        return 'https://github.com/pulls/assigned';\n    },\n    getMentioningPRUrl: function getMentioningPRUrl() {\n        return 'https://github.com/pulls/mentioned';\n    },\n    getRepoSearchResultUrl: function getRepoSearchResultUrl(keyword, language, searchIn, author) {\n        var gitInfo = _dataUtil2.default.getGitInfo();\n        var owner = gitInfo.owner;\n        var repo = gitInfo.repo;\n        // var branch = gitInfo.branch;\n\n\n        var urlParams = {\n            q: keyword + ' in:' + searchIn\n        };\n\n        if (!!language) {\n            urlParams.q += ' extension:' + language;\n        }\n\n        if (!!author) {\n            urlParams.q += ' user:' + author;\n        }\n\n        // https://github.com/relateiq/riq/search?q=test&utf8=%E2%9C%93\n        // https://github.com/search?l=json&q=octocat+in%3Afile%2Cpath&type=Code\n\n        var searchQueryString = _globalUtil2.default.getSerializedQueryString(urlParams);\n\n        return 'https://' + location.hostname + '/' + owner + '/' + repo + '/search?' + searchQueryString;\n    }\n};\n\nexports.default = urlUtil;\n\n},{\"./dataUtil\":2,\"./globalUtil\":3}]},{},[1])\n\n","import dataUtil from './util/dataUtil';\r\nimport sidebarUtil from './util/sidebarUtil';\r\nimport util from './util/globalUtil';\r\n\r\nchrome.extension.sendMessage({}, (response) => {\r\n    var sideBarContainer;\r\n\r\n    function _init(){\r\n        var urlParams = util.getUrlVars();\r\n        var visibleFlags = dataUtil.getVisibleFlags();\r\n        \r\n        \r\n        //empty if needed\r\n        $('#side-bar-advanced-tool').remove();\r\n\r\n        sideBarContainer = $('<div id=\"side-bar-advanced-tool\" />')\r\n            .appendTo('body')\r\n\r\n        $('<h3 id=\"side-bar-title\" />')\r\n            .appendTo(sideBarContainer)\r\n            .text('Github Improved Toolbox')\r\n\r\n        var searchBarContainer = $('<form id=\"side-bar-form-search\" />')\r\n            .appendTo(sideBarContainer)\r\n            .on('submit', sidebarUtil.onSearchRepo)\r\n            .toggle(visibleFlags.searchFile);\r\n\r\n        var cmdContainer = $('<div id=\"side-bar-cmd-palette\" />')\r\n            .appendTo(sideBarContainer);\r\n\r\n\r\n\r\n        //whitespace diff\r\n        $('<button id=\"cmd-search-file\" class=\"btn btn-sm\" />')\r\n            .appendTo(cmdContainer)\r\n            .text('Search File')\r\n            .on('click', sidebarUtil.onGoToGetSearchUrl)\r\n            .toggle(visibleFlags.searchFile)\r\n\r\n        $('<button id=\"cmd-diff-whitespace-option\" class=\"btn btn-sm\" />')\r\n            .appendTo(cmdContainer)\r\n            .text(urlParams.w !== '1' ? 'Whitespace Diff' : 'Non-Whitespace Diff')\r\n            .on('click', urlParams.w !== '1' ? sidebarUtil.onGoToDiffNonWhitespaceUrl : sidebarUtil.onGoTogetDiffWithWhitespaceUrl)\r\n            .toggle(visibleFlags.differ)\r\n\r\n\r\n        $('<button id=\"cmd-diff-type\" class=\"btn btn-sm\" />')\r\n            .appendTo(cmdContainer)\r\n            .text(urlParams.diff !== 'split' ? 'Split Diff' : 'Unified Diff')\r\n            .on('click', urlParams.diff !== 'split' ? sidebarUtil.onGoToSplitDiffUrl : sidebarUtil.onGoToUnifieDiffUrl)\r\n            .toggle(visibleFlags.differ)\r\n\r\n\r\n        $('<button class=\"btn btn-sm\" />')\r\n            .appendTo(cmdContainer)\r\n            .text('PR created by you')\r\n            .on('click', sidebarUtil.onGoToOwnPRUrl);\r\n\r\n\r\n        $('<button class=\"btn btn-sm\" />')\r\n            .appendTo(cmdContainer)\r\n            .text('PR assigned to you')\r\n            .on('click', sidebarUtil.onGoToAssignedPRUrl)\r\n                \r\n\r\n        $('<button class=\"btn btn-sm\" />')\r\n            .appendTo(cmdContainer)\r\n            .text('PR mentioning you')\r\n            .on('click', sidebarUtil.onGoToMentioningYouPRUrl)\r\n\r\n\r\n        //search\r\n        $('<input class=\"form-control\" placeholder=\"Keyword\" name=\"keyword\" />')\r\n            .appendTo(searchBarContainer)\r\n        var searchOption = $('<select class=\"form-control\" name=\"type\" />')\r\n            .appendTo(searchBarContainer)\r\n            .append($('<option value=\"file\" />').text('File Content'))\r\n            .append($('<option value=\"path\" />').text('Path Name'))\r\n            .append($('<option value=\"file,path\" />').text('File and Content'))\r\n\r\n\r\n        $('<input class=\"form-control\" placeholder=\"Language\" name=\"language\" list=\"search-language\" />')\r\n            .appendTo(searchBarContainer)\r\n\r\n        // $('<input class=\"form-control\" placeholder=\"Author\" name=\"author\" />')\r\n        //     .appendTo(searchBarContainer)\r\n\r\n        //auto comeplete\r\n        var dataListSearchLanguages = $('<datalist id=\"search-language\" />')\r\n            .appendTo(searchBarContainer);\r\n        dataUtil.getSupportedLanguages().map( (language) => {\r\n            $('<option />').attr('value', language).appendTo(dataListSearchLanguages)\r\n        });\r\n\r\n\r\n        $('<button class=\"btn btn-sm\" type=\"submit\" />')\r\n            .appendTo(searchBarContainer)\r\n            .text('Search')\r\n    }\r\n\r\n    function _eventLoopHandler(){\r\n        var urlParams = util.getUrlVars();\r\n        var visibleFlags = dataUtil.getVisibleFlags();\r\n\r\n        sideBarContainer\r\n            .find('#cmd-search-file')\r\n            .off('click')\r\n            .toggle(visibleFlags.searchFile)\r\n\r\n        sideBarContainer\r\n            .find('#cmd-diff-whitespace-option')\r\n            .off('click')\r\n            .text(urlParams.w !== '1' ? 'Whitespace Diff' : 'Non-Whitespace Diff')\r\n            .on('click', urlParams.w !== '1' ? sidebarUtil.onGoToDiffNonWhitespaceUrl : sidebarUtil.onGoTogetDiffWithWhitespaceUrl)\r\n            .toggle(visibleFlags.differ)\r\n\r\n        sideBarContainer\r\n            .find('#cmd-diff-type')\r\n            .off('click')\r\n            .text(urlParams.diff !== 'split' ? 'Split Diff' : 'Unified Diff')\r\n            .on('click', urlParams.diff !== 'split' ? sidebarUtil.onGoToSplitDiffUrl : sidebarUtil.onGoToUnifieDiffUrl)\r\n            .toggle(visibleFlags.differ)\r\n\r\n        sideBarContainer\r\n            .find('#side-bar-form-search')\r\n            .toggle(visibleFlags.searchFile)\r\n    }\r\n\r\n    var readyStateCheckInterval = setInterval(function() {\r\n        if (document.readyState === \"complete\") {\r\n            clearInterval(readyStateCheckInterval);\r\n            _init();\r\n\r\n            setInterval(_eventLoopHandler, 3000);\r\n        }\r\n    }, 10);\r\n});","var dataUtil = {\r\n\tgetGitInfo : function(){\r\n    \tvar pathName = location.pathname;\r\n    \tvar urlSplits = pathName.split('/');\r\n    \tvar owner;\r\n    \tvar repo;\r\n\r\n    \tif(urlSplits[1] !== 'pulls'){\r\n    \t\towner = urlSplits[1];\r\n    \t\trepo = urlSplits[2];\r\n    \t}\r\n\r\n    \tvar branch = 'master';\r\n    \tif(pathName.indexOf('/blob/') >= 0 || pathName.indexOf('/tree/') >= 0 && urlSplits.length >= 5){\r\n    \t\tbranch = urlSplits[4];\r\n    \t}\r\n\r\n    \tvar commit;\r\n    \tif(pathName.indexOf('/commit/') >= 0 || pathName.indexOf('/commits/') >= 0){\r\n    \t\tcommit = urlSplits[urlSplits.length - 1];\r\n    \t}\r\n\r\n\r\n    \tvar file;\r\n    \tif(pathName.indexOf('/blob/') >= 0){\r\n    \t\tfile = urlSplits.slice(5).join('/');\r\n    \t}\r\n\r\n\r\n    \tvar pull;\r\n\t\tif(pathName.indexOf('/pull/') >= 0 && pathName.indexOf('/files') >= 0){\r\n    \t\tpull = urlSplits[urlSplits.length - 2];\r\n    \t}\r\n\r\n\r\n    \treturn {\r\n    \t\towner, repo, branch, commit, file, pull\r\n    \t};\r\n    },\r\n    getVisibleFlags : function () {\r\n    \tvar gitInfo = dataUtil.getGitInfo();\r\n\r\n    \treturn {\r\n    \t\tdiffer : !!(gitInfo.owner && gitInfo.repo) && !!(gitInfo.commit || gitInfo.pull),\r\n    \t\tsearchFile : !!(gitInfo.owner && gitInfo.repo)\r\n    \t};\r\n    },\r\n    getSupportedLanguages: function(){\r\n    \treturn [\r\n\t\t\t'css',\r\n\t\t\t'scss',\r\n\t\t\t'html',\r\n\t\t\t'js',\r\n\t\t\t'json',\r\n\t\t\t'xml',\r\n\t\t\t'java'\r\n    \t]\r\n\t}\r\n}\r\n\r\nexport default dataUtil;","var util = {\r\n\tgetUrlForParam : function(params){\r\n\t\tvar queryString = util.getSerializedQueryString();\r\n\t\t\r\n\t\treturn !!queryString ? 'https://' + location.hostname + location.pathname + '?' + queryString.join('&')\r\n\t\t\t:'https://' + location.hostname + location.pathname;\r\n\t},\r\n\tgetSerializedQueryString : function(params){\r\n\t\tvar paramKeys = Object.keys(params || {});\r\n\t\tif(paramKeys.length === 0){\r\n\t\t\t//no query string, just return it\r\n\t\t\treturn '';\r\n\t\t}\r\n\r\n\t\t//prepare the query string\r\n\t\tvar queryString = [];\r\n\t\tparamKeys.map( function (paramKey) {\r\n\t\t\tvar paramVal = params[paramKey];\r\n\t\t\tqueryString.push(paramKey + '=' + paramVal);\r\n\t\t});\r\n\t\t\r\n\t\treturn queryString.join('&');\r\n\t},\r\n    getUrlVars: function() {\r\n        var vars = {},\r\n            hash;\r\n\r\n        var url = location.href;\r\n        if(url.indexOf('?') === -1){\r\n        \t//no query string\r\n        \treturn vars;\r\n        }\r\n        //query string\r\n        var hashes = url.slice(url.indexOf('?') + 1).split('&');\r\n        for (var i = 0; i < hashes.length; i++) {\r\n            hash = hashes[i].split('=');\r\n            vars[hash[0]] = hash[1];\r\n        }\r\n        return vars;\r\n    }\r\n}\r\n\r\nexport default util;","import urlUtil from './urlUtil';\r\n\r\nvar sideBarTool = {\r\n\tonGoToSplitDiffUrl: function(){\r\n\t\tlocation.href = urlUtil.getSplitDiffUrl();\r\n\t},\r\n\tonGoToUnifieDiffUrl: function(){\r\n\t\tlocation.href = urlUtil.getUnifiedDiffUrl();\r\n\t},\r\n    onGoToDiffNonWhitespaceUrl: function() {\r\n        location.href = urlUtil.getDiffNonWhitespaceUrl();\r\n    },\r\n    onGoTogetDiffWithWhitespaceUrl: function() {\r\n        location.href = urlUtil.getDiffWithWhitespaceUrl();\r\n    },\r\n    onGoToGetSearchUrl : function(){\r\n    \tlocation.href = urlUtil.getSearchUrl();\r\n    },\r\n    onGoToOwnPRUrl : function(){\r\n    \tlocation.href = urlUtil.getOwnPRUrl();\r\n    },\r\n    onGoToAssignedPRUrl : function(){\r\n    \tlocation.href = urlUtil.getAssignedPRUrl();\r\n    },\r\n    onGoToMentioningYouPRUrl: function () {\r\n    \tlocation.href = urlUtil.getMentioningPRUrl();\r\n    },\r\n    onSearchRepo: function() {\r\n    \tvar formSearch = $('#side-bar-form-search') ; //$(this)\r\n    \tvar formSearchData = formSearch.serializeArray().reduce(\r\n    \t\t(res, formData) => {\r\n    \t\t\tif(!!formData.value){\r\n    \t\t\t\tres[formData.name] = formData.value;\r\n    \t\t\t}\r\n    \t\t\treturn res;\r\n    \t\t}\r\n\t\t\t,{}\r\n\t\t);\r\n\r\n    \tlocation.href = urlUtil.getRepoSearchResultUrl(\r\n    \t\tformSearchData.keyword,\r\n    \t\tformSearchData.language,\r\n    \t\tformSearchData.type,//in:file or in:path or in:file,path\r\n    \t\tformSearchData.author\r\n\t\t);\r\n\r\n\t\treturn false;\r\n    }\r\n}\r\n\r\nexport default sideBarTool;","import dataUtil from './dataUtil';\r\nimport util from './globalUtil';\r\n\r\nvar urlUtil = {\r\n    getDiffNonWhitespaceUrl: function() {\r\n    \tvar urlParams = util.getUrlVars();\r\n    \turlParams.w = 1;\r\n        return util.getUrlForParam(urlParams);\r\n    },\r\n    getDiffWithWhitespaceUrl: function() {\r\n        var urlParams = util.getUrlVars();\r\n    \turlParams.w = 0;\r\n        return util.getUrlForParam(urlParams);\r\n    },\r\n    getSplitDiffUrl: function(){\r\n    \tvar urlParams = util.getUrlVars();\r\n    \turlParams.diff = 'split';\r\n        return util.getUrlForParam(urlParams);\r\n    },\r\n    getUnifiedDiffUrl: function(){\r\n    \tvar urlParams = util.getUrlVars();\r\n    \turlParams.diff = 'unified';\r\n        return util.getUrlForParam(urlParams);\r\n    },\r\n    getSearchUrl : function(){\r\n    \tvar gitInfo = dataUtil.getGitInfo();\r\n    \tvar owner = gitInfo.owner;\r\n    \tvar repo = gitInfo.repo;\r\n    \tvar branch = gitInfo.branch;\r\n\r\n    \treturn 'https://' + location.hostname + '/' + owner + '/' + repo + '/find/' + branch\r\n    }, \r\n    getOwnPRUrl : function(){\r\n    \treturn 'https://github.com/pulls';\r\n    },\r\n    getAssignedPRUrl : function(){\r\n    \treturn 'https://github.com/pulls/assigned';\r\n    },\r\n    getMentioningPRUrl : function() {\r\n    \treturn 'https://github.com/pulls/mentioned';\r\n    },\r\n    getRepoSearchResultUrl : function(keyword, language, searchIn, author){\r\n    \tvar gitInfo = dataUtil.getGitInfo();\r\n    \tvar owner = gitInfo.owner;\r\n    \tvar repo = gitInfo.repo;\r\n    \t// var branch = gitInfo.branch;\r\n\r\n\r\n    \tvar urlParams = {\r\n    \t\tq : `${keyword} in:${searchIn}`\r\n    \t};\r\n\r\n    \tif(!!language){\r\n    \t\turlParams.q += ` extension:${language}`;\r\n    \t}\r\n\r\n    \tif(!!author){\r\n    \t\turlParams.q += ` user:${author}`;\r\n    \t}\r\n\r\n    \t// https://github.com/relateiq/riq/search?q=test&utf8=%E2%9C%93\r\n    \t// https://github.com/search?l=json&q=octocat+in%3Afile%2Cpath&type=Code\r\n\r\n    \tvar searchQueryString = util.getSerializedQueryString(urlParams);\r\n\r\n    \treturn 'https://' + location.hostname + '/' + owner + '/' + repo + '/search?' + searchQueryString;\r\n    }\r\n}\r\n\r\nexport default urlUtil;"],"sourceRoot":"/source/"}